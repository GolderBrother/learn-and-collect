<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>对象解构</title>
</head>
<body>
  
  <script> 
    window.onload = function(){
		//解构不仅仅用数数组，还用于对象
		var obj = {
			name:'abc',
			age:18
		};
		let name = obj.name;
		let age = obj.age;
		let {name,age} = {name:'abc',age:18};
		//对象解构与数组解构的不同：
		//数组解构是按次序排列的，变量的取值由位置来决定
		//对象解构没有次序，变量必须与属性同名
		let {type,age} = {name:'abc',age:18};  //type  undefined   type没有匹配到属性同名
		let {x,y} = {y:2,x:1}; //x=1,y=2
		let {x:name,y} = {y:2,x:1}; //x是没有的，  name = 1;
		//X是匹配模式   name才是变量

		let {name:n,age:a} = {name:'abc',age:18};  //n='abc'   a = 18
		//默认值
		let {x = 3} = {}    //x  3
		let {x, y=3} = {x:1}    //xy   1 3
		let {x:y =3} = {};  //y=3
		let {x:y =3} = {x:5}; //y  5
		
		//默认值生效
		let {x:y =3} = {x:undefined}; //y  3 
		let {x:y =3} = {x:null}; //y  null

		let {z:y } = {x:5};   //解构失败

		//字符串解构
		let [a,b,c,d] = 'html';

		//函数的参数
		//数组解构
		function fun([a,b,c]){
			return a+b+c
		};
		fun([1,2,3]);

		function fun([a=0,b=0]){
			return a+b  //5
		};
		fun([5]);
		//对象解构
		function fun3({x,y}){
			return x+y;
		};
		fun3({x:1,y:1})
		//let {x=0,y=3} = {x:2}
		function fun3({x=0,y=2}){
			return x+y;
		};
		fun3({x:1});

		function fun({x=0,y=1} = {}){   //{x=0,y=1} = {x:3,y:5})
			return {x:x,y:y}
		};
		fun({x:3,y:5});  //
		fun({x:3});   // {x=0,y=1} = {x:3}
		fun({}); //0  1     {x=0,y=1} = {}
		fun();  //{x=0,y=1} = {}

		function fun({x,y} = {x:0,y:1}){   
			return {x:x,y:y}
		};
		fun({x:3,y:5});  //// {x,y} ={x:3,y:5}
		fun({x:3});  //  {x,y} = {x:3}   {x: 3, y: undefined}
		fun({});
		fun(); //{x,y} = {x:0,y:1}

		function f(){
			return [1,2,3,4]
		};
		let [a,b,c,d] = f();

		function obj(){
			let o ={
				name:'abc',
				age:18
			}
			return o;
		};
		let {name,age} = obj();

		function obj2(){
			let o ={
				name:'abc',
				age:18,
				friends:['a','b','c','d'],
				members:{x:1,y:2}
			}
			return o;
		};
		let {friends,members} = obj2();
		//friends[2]
		//members.y
	}
  </script>
</body>
</html>